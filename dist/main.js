var Client;(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var r=n.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();var t={};e.r(t),e.d(t,{closeButtonEvent:()=>d,getData:()=>a,handleSubmit:()=>s,img:()=>n,postData:()=>r,saveButtonEvent:()=>c,updateUI:()=>i});const n=e.p+"img/placeholder.jpg",r=async(e="",t={})=>{const n=await fetch(e,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});try{const e=await n.json();return console.log(e),e}catch(e){console.log("error",e)}},a=async e=>{const t=await fetch(e);try{const e=await t.json();return console.log(e),e}catch(e){console.log("error",e)}},i=async e=>{const t=await fetch(e);try{const e=await t.json();document.getElementById("results-image").src=e.img,document.getElementById("result-destination").innerHTML=`Trip to: ${e.location}`,document.getElementById("result-departure").innerHTML=`Departure: ${e.startDate}`,document.getElementById("result-return").innerHTML=`Return: ${e.endDate}`,document.getElementById("result-duration").innerHTML=`Duration: ${e.duration} days`,document.getElementById("trip-start").innerHTML=`Your trip is ${e.timeTillTravel} days from now`,document.getElementById("result-temp").innerHTML=`${e.temp}Â°F`,document.getElementById("result-description").innerHTML=`${e.description}`}catch(e){console.log("error",e)}},o=document.getElementById("travel-wrapper"),l=document.getElementById("travel-results");async function s(e){e.preventDefault(),console.log("The trip begins");const t=new Date,n=t.getMonth()+"-"+t.getDate()+"-"+t.getFullYear();console.log(`newDate: ${n}`);const a=document.getElementById("location").value,i=document.getElementById("departure-date").value,o=document.getElementById("return-date").value,l=new Date(i),s=new Date(o),d=(s.getTime()-l.getTime())/864e5;console.log(d);const c=l.getTime()-t.getTime(),u=Math.round(c/864e5);console.log(`timeTillTravel: ${u}`);const m=document.getElementById("travel-card"),g=document.getElementById("travel-results");await r("http://localhost:3000/createTrip",{location:a,startDate:l,endDate:s,duration:d,timeTillTravel:u}),await Client.getData("http://localhost:3000/geonames"),await Client.getData("http://localhost:3000/weatherBit"),await Client.getData("http://localhost:3000/pixabay"),await updateUI("http://localhost:3000/all"),m.style.display="none",g.style.display="flex"}const d=()=>{o.style.display="flex",l.style.display="none"},c=()=>{const e=document.getElementById("saved-travel-results"),t=`<div class="saved-results-box">\n  <div class="saved-results">\n    <figure>\n      <img id="saved-results-image" class="saved-results-image" src=${document.getElementById("results-image").src} alt='London Skyline'>\n      <figcaption class="">Enjoy your Trip!</figcaption>\n    </figure>\n    <div class="saved-results-entry">\n      <h4 id="saved-result-destination">${document.getElementById("result-destination").innerHTML}</h4>\n      <div id="saved-result-departure">${document.getElementById("result-departure").innerHTML}</div>\n      <div id="saved-result-return">${document.getElementById("result-return").innerHTML}</div>\n      <div id="saved-result-duration">${document.getElementById("result-duration").innerHTML}</div>\n      <div id="saved-trip-start">${document.getElementById("trip-start").innerHTML}</div>\n      <div>The current weather:</div>\n      <div id="saved-result-temp">${document.getElementById("result-temp").innerHTML}</div>\n      <div id="saved-result-description">${document.getElementById("result-description").innerHTML}</div>\n    </div>\n    <div class='saved-results-footer'>\n    </div>`;e.insertAdjacentHTML("beforeend",t),o.style.display="flex",l.style.display="none"};document.getElementById("submit").addEventListener("click",s),document.getElementById("save").addEventListener("click",c),document.getElementById("close").addEventListener("click",d);const u=new Image;u.src=n,document.querySelector("#img-case").appendChild(u),u.classList.add("travel-img"),Client=t})();