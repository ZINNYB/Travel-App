var Client;(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var o=n.getElementsByTagName("script");o.length&&(t=o[o.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();var t={};e.r(t),e.d(t,{closeButtonEvent:()=>l,getData:()=>a,handleSubmit:()=>c,img:()=>n,postData:()=>o,saveButtonEvent:()=>s,updateUI:()=>r});const n=e.p+"img/placeholder.jpg",o=async(e="",t={})=>{const n=await fetch(e,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});try{const e=await n.json();return console.log(e),e}catch(e){console.log("error",e)}},a=async e=>{const t=await fetch(e);try{const e=await t.json();return console.log(e),e}catch(e){console.log("error",e)}},r=async e=>{const t=await fetch(e);try{const e=await t.json();document.getElementById("results-image").src=e.img,document.getElementById("outcome-destination").innerHTML=`Trip to: ${e.location}`,document.getElementById("outcome-departure").innerHTML=`Departure: ${e.startDate}`,document.getElementById("outcome-return").innerHTML=`Return: ${e.endDate}`,document.getElementById("outcome-duration").innerHTML=`Duration: ${e.duration} days`,document.getElementById("start-date").innerHTML=`Your trip is ${e.timeTillTravel} days from now`,document.getElementById("outcome-temp").innerHTML=`${e.temp}Â°F`,document.getElementById("outcome-description").innerHTML=`${e.description}`}catch(e){console.log("error",e)}},i=document.getElementById("travel-wrapper"),d=document.getElementById("travel-results");async function c(e){e.preventDefault(),console.log("The trip begins");const t=new Date,n=t.getMonth()+"-"+t.getDate()+"-"+t.getFullYear();console.log(`newDate: ${n}`);const i=document.getElementById("location").value,d=document.getElementById("departure-date").value,c=document.getElementById("return-date").value,l=new Date(d),s=new Date(c),m=(s.getTime()-l.getTime())/864e5;console.log(m);const u=l.getTime()-t.getTime(),g=Math.round(u/864e5);console.log(`timeTillTravel: ${g}`);const y=document.getElementById("travel-wrapper"),p=document.getElementById("travel-results");await o("http://localhost:3000/createTrip",{location:i,startDate:l,endDate:s,duration:m,timeTillTravel:g}),await a("http://localhost:3000/geonames"),await a("http://localhost:3000/weatherBit"),await a("http://localhost:3000/pixabay"),await r("http://localhost:3000/all"),y.style.display="none",p.style.display="flex"}const l=()=>{i.style.display="flex",d.style.display="none"},s=()=>{const e=document.getElementById("saved-travel-outcomes"),t=`<div class="saved-results-box">\n  <div class="saved-results">\n    <figure>\n      <img id="saved-results-image" class="saved-results-image" src=${document.getElementById("results-image").src} alt='London Skyline'>\n      <figcaption class="">Enjoy your Trip!</figcaption>\n    </figure>\n    <div class="saved-outcomes">\n      <h4 id="saved-outcome-destination">${document.getElementById("outcome-destination").innerHTML}</h4>\n      <div id="saved-outcome-departure">${document.getElementById("outcome-departure").innerHTML}</div>\n      <div id="saved-outcome-return">${document.getElementById("outcome-return").innerHTML}</div>\n      <div id="saved-outcome-duration">${document.getElementById("outcome-duration").innerHTML}</div>\n      <div id="saved-start-date">${document.getElementById("start-date").innerHTML}</div>\n      <div>current weather:</div>\n      <div id="saved-outcome-temp">${document.getElementById("outcome-temp").innerHTML}</div>\n      <div id="saved-outcome-description">${document.getElementById("outcome-description").innerHTML}</div>\n    </div>\n    <div class='saved-results-footer'>\n    </div>`;e.insertAdjacentHTML("beforeend",t),i.style.display="flex",d.style.display="none"};document.getElementById("submit").addEventListener("click",c),document.getElementById("save").addEventListener("click",s),document.getElementById("close").addEventListener("click",l);const m=new Image;m.src=n,document.querySelector("#img-case").appendChild(m),m.classList.add("travel-img"),Client=t})();